<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>åŒå‘ç»‘å®š | é™é™æ˜¯åªçŒ«</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="just palying around">
    
    <link rel="preload" href="/assets/css/0.styles.dc9c7868.css" as="style"><link rel="preload" href="/assets/js/app.336f9db8.js" as="script"><link rel="preload" href="/assets/js/2.4211a988.js" as="script"><link rel="preload" href="/assets/js/13.766efff3.js" as="script"><link rel="prefetch" href="/assets/js/10.24aba726.js"><link rel="prefetch" href="/assets/js/11.bd7fb56d.js"><link rel="prefetch" href="/assets/js/12.26b6c3b2.js"><link rel="prefetch" href="/assets/js/14.54dd205e.js"><link rel="prefetch" href="/assets/js/15.80bff7d5.js"><link rel="prefetch" href="/assets/js/16.2c30dbbb.js"><link rel="prefetch" href="/assets/js/17.bb9d07c8.js"><link rel="prefetch" href="/assets/js/18.3e71932a.js"><link rel="prefetch" href="/assets/js/3.05f2e647.js"><link rel="prefetch" href="/assets/js/4.3bd16542.js"><link rel="prefetch" href="/assets/js/5.e77204a2.js"><link rel="prefetch" href="/assets/js/6.e9794186.js"><link rel="prefetch" href="/assets/js/7.f668a711.js"><link rel="prefetch" href="/assets/js/8.1f1c24f7.js"><link rel="prefetch" href="/assets/js/9.327e5a67.js">
    <link rel="stylesheet" href="/assets/css/0.styles.dc9c7868.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">é™é™æ˜¯åªçŒ«</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/vue/vue.html" class="nav-link">
  æŒ‡å—
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/vue/vue.html" class="nav-link">
  æŒ‡å—
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/zh/" class="sidebar-link">å…³äºæˆ‘</a></li><li><section class="sidebar-group collapsable depth-0"><a href="/vue/" class="sidebar-heading clickable router-link-active open"><span>vue</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/vue/one.html" aria-current="page" class="active sidebar-link">åŒå‘ç»‘å®š</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/vue/two.html" class="sidebar-link">keep-alive</a></li><li><a href="/vue/three.html" class="sidebar-link">ç»„ä»¶é€šè®¯</a></li><li><a href="/vue/four.html" class="sidebar-link">è·¯ç”±æ¨¡å¼</a></li><li><a href="/vue/five.html" class="sidebar-link">nextTick</a></li><li><a href="/vue/six.html" class="sidebar-link">computed å’Œ watch</a></li><li><a href="/vue/other.html" class="sidebar-link">æ›´å¤š</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="åŒå‘ç»‘å®š"><a href="#åŒå‘ç»‘å®š" class="header-anchor">#</a> åŒå‘ç»‘å®š</h1> <ol><li><h3 id="vueæ˜¯å¦‚ä½•å®ç°åŒå‘ç»‘å®šçš„"><a href="#vueæ˜¯å¦‚ä½•å®ç°åŒå‘ç»‘å®šçš„" class="header-anchor">#</a> Vueæ˜¯å¦‚ä½•å®ç°åŒå‘ç»‘å®šçš„</h3></li></ol> <blockquote><p>vueæ˜¯é€šè¿‡<strong>object.defineProperty()<strong>é‡Œé¢çš„setterï¼Œgetter</strong>è§‚å¯Ÿè€…æ¨¡å¼</strong>æ¥å®ç°çš„ï¼Œåœ¨å®Œå…¨ææ¸…æ¥šVUEçš„å“åº”å¼åŸç†ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆå­¦ä¹ ä¸€ä¸‹ä»€ä¹ˆæ˜¯object.defineProperty()ä»€ä¹ˆæ˜¯è§‚å¯Ÿè€…æ¨¡å¼</p></blockquote> <ul><li><h3 id="æ ¸å¿ƒå®ç°ç±»"><a href="#æ ¸å¿ƒå®ç°ç±»" class="header-anchor">#</a> æ ¸å¿ƒå®ç°ç±»</h3></li></ul> <blockquote><p>Observer : å®ƒçš„ä½œç”¨æ˜¯ç»™å¯¹è±¡çš„å±æ€§æ·»åŠ  getter å’Œ setterï¼Œç”¨äºä¾èµ–æ”¶é›†å’Œæ´¾å‘æ›´æ–°</p> <blockquote><p>Dep : ç”¨äºæ”¶é›†å½“å‰å“åº”å¼å¯¹è±¡çš„ä¾èµ–å…³ç³»,æ¯ä¸ªå“åº”å¼å¯¹è±¡åŒ…æ‹¬å­å¯¹è±¡éƒ½æ‹¥æœ‰ä¸€ä¸ª Dep å®ä¾‹ï¼ˆé‡Œé¢ subs æ˜¯ Watcher å®ä¾‹æ•°ç»„ï¼‰,å½“æ•°æ®æœ‰å˜æ›´æ—¶,ä¼šé€šè¿‡ dep.notify()é€šçŸ¥å„ä¸ª watcherã€‚</p> <blockquote><p>Watcher : è§‚å¯Ÿè€…å¯¹è±¡ , å®ä¾‹åˆ†ä¸ºæ¸²æŸ“ watcher (render watcher),è®¡ç®—å±æ€§ watcher (computed watcher),ä¾¦å¬å™¨ watcherï¼ˆuser watcherï¼‰ä¸‰ç§</p></blockquote></blockquote></blockquote> <ul><li><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="header-anchor">#</a> æ€»ç»“</h3></li></ul> <blockquote><p>vue.js é‡‡ç”¨æ•°æ®åŠ«æŒç»“åˆå‘å¸ƒ-è®¢é˜…æ¨¡å¼,é€šè¿‡ Object.defineproperty æ¥åŠ«æŒå„ä¸ªå±æ€§çš„ setter,getter,åœ¨æ•°æ®å˜åŠ¨æ—¶å‘å¸ƒæ¶ˆæ¯ç»™è®¢é˜…è€…,è§¦å‘å“åº”çš„ç›‘å¬å›è°ƒ</p></blockquote> <hr> <ol start="2"><li><h3 id="object-defineproperty"><a href="#object-defineproperty" class="header-anchor">#</a> <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty" target="_blank" rel="noopener noreferrer">object.defineProperty()ï¼š<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h3></li></ol> <p>Object.defineProperty() æ–¹æ³•ä¼šç›´æ¥åœ¨ä¸€ä¸ªå¯¹è±¡ä¸Šå®šä¹‰ä¸€ä¸ªæ–°å±æ€§ï¼Œæˆ–è€…ä¿®æ”¹ä¸€ä¸ªå¯¹è±¡çš„ç°æœ‰å±æ€§ï¼Œå¹¶è¿”å›æ­¤å¯¹è±¡ã€‚ä»–æ¥å—3ä¸ªå‚æ•°ï¼šobj-è¦å®šä¹‰çš„å±æ€§ï¼›prop-è¦å®šä¹‰æˆ–ä¿®æ”¹çš„å±æ€§çš„åç§°æˆ– Symbol ï¼›descriptor-è¦å®šä¹‰æˆ–ä¿®æ”¹çš„å±æ€§æè¿°ç¬¦,é‡Œé¢å«æœ‰set,getæ–¹æ³•;
ä¸¾ä¸€ä¸ªç®€å•çš„ğŸŒ°</p> <div class="language-js extra-class"><pre class="language-js"><code>    <span class="token keyword">var</span> obj1 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> num <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span>
    Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>obj1<span class="token punctuation">,</span><span class="token string">'val'</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
        <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'ç›‘å¬æ­£åœ¨è·å–val'</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span> num
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function">set</span><span class="token punctuation">(</span>isval<span class="token punctuation">)</span><span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'ç›‘å¬æ­£åœ¨è®¾ç½®val'</span><span class="token punctuation">)</span>
            num <span class="token operator">=</span> isval
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        enumerable <span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment">//æšä¸¾</span>
        configurable <span class="token operator">:</span> <span class="token boolean">true</span><span class="token comment">//æ˜¯å¦å¯ä»¥åˆ é™¤(å†æ¬¡ä¿®æ”¹)</span>
        writable<span class="token operator">:</span><span class="token boolean">false</span> <span class="token comment">//æ˜¯å¦é‡å†™</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj1<span class="token punctuation">.</span>val<span class="token punctuation">)</span><span class="token comment">//12</span>
</code></pre></div><hr> <ol start="3"><li><h3 id="object-defindproperty-çš„ä¼˜ç¼ºç‚¹"><a href="#object-defindproperty-çš„ä¼˜ç¼ºç‚¹" class="header-anchor">#</a> object.defindProperty()çš„ä¼˜ç¼ºç‚¹</h3></li></ol> <ul><li>ä¼˜ç‚¹
å…¼å®¹æ€§å¥½,æ”¯æŒ</li> <li>ç¼ºç‚¹
æ— æ³•æ£€æµ‹åˆ°å¯¹è±¡å±æ€§çš„æ–°å¢æˆ–åˆ é™¤ï¼›
ä¸èƒ½ç›‘å¬æ•°ç»„çš„å˜åŒ–</li></ul> <hr> <ol start="4"><li><h3 id="proxyä¸object-definepropertyçš„ä¼˜åŠ£å¯¹æ¯”"><a href="#proxyä¸object-definepropertyçš„ä¼˜åŠ£å¯¹æ¯”" class="header-anchor">#</a> <a href="https://es6.ruanyifeng.com/#docs/proxy" target="_blank" rel="noopener noreferrer">Proxy<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ä¸Object.definePropertyçš„ä¼˜åŠ£å¯¹æ¯”</h3></li></ol> <blockquote><p>Proxy:vue3ä¸­åˆ©ç”¨Proxyå®ç°æ•°æ®è¯»å–å’Œè®¾ç½®æ—¶è¿›è¡Œæ‹¦æˆªï¼Œåœ¨æ‹¦æˆªtrapä¸­å®ç°æ•°æ®çš„ä¾èµ–æ”¶é›†ä»¥åŠè§¦å‘è§†å›¾æ›´æ–°æ“ä½œ</p></blockquote> <ul><li>Proxy å¯ä»¥ç›´æ¥ç›‘å¬å¯¹è±¡è€Œéå±æ€§ï¼›</li> <li>Proxy å¯ä»¥ç›´æ¥ç›‘å¬æ•°ç»„çš„å˜åŒ–ï¼›</li> <li>Proxy æœ‰å¤šè¾¾ 13 ç§æ‹¦æˆªæ–¹æ³•,ä¸é™äº applyã€ownKeysã€deletePropertyã€has ç­‰ç­‰æ˜¯ Object.defineProperty ä¸å…·å¤‡çš„</li> <li>Proxy è¿”å›çš„æ˜¯ä¸€ä¸ªæ–°å¯¹è±¡,æˆ‘ä»¬å¯ä»¥åªæ“ä½œæ–°çš„å¯¹è±¡è¾¾åˆ°ç›®çš„,è€Œ Object.defineProperty åªèƒ½éå†å¯¹è±¡å±æ€§ç›´æ¥ä¿®æ”¹ï¼›</li> <li>Proxy ä½œä¸ºæ–°æ ‡å‡†å°†å—åˆ°æµè§ˆå™¨å‚å•†é‡ç‚¹æŒç»­çš„æ€§èƒ½ä¼˜åŒ–ï¼Œä¹Ÿå°±æ˜¯ä¼ è¯´ä¸­çš„æ–°æ ‡å‡†çš„æ€§èƒ½çº¢åˆ©ï¼›</li></ul> <hr> <ol start="5"><li><h3 id="è§‚å¯Ÿè€…æ¨¡å¼"><a href="#è§‚å¯Ÿè€…æ¨¡å¼" class="header-anchor">#</a> è§‚å¯Ÿè€…æ¨¡å¼</h3></li></ol> <ul><li>è§‚å¯Ÿè€…æ¨¡å¼ï¼šæ³¨å†Œç¯èŠ‚è·Ÿå‘å¸ƒç¯èŠ‚</li></ul> <hr> <ol start="6"><li><h3 id="æ‰‹å†™ä¸€ä¸ªç®€å•çš„åŒå‘ç»‘å®š"><a href="#æ‰‹å†™ä¸€ä¸ªç®€å•çš„åŒå‘ç»‘å®š" class="header-anchor">#</a> æ‰‹å†™ä¸€ä¸ªç®€å•çš„åŒå‘ç»‘å®š</h3></li></ol> <div class="language-html extra-class"><pre class="language-html"><code>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>txt<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>isMark<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code> <span class="token keyword">var</span> txt <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token keyword">var</span> mark <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;mark&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token keyword">var</span> objMore <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>objMore<span class="token punctuation">,</span><span class="token string">'val'</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
    <span class="token function-variable function">set</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">newval</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      txt<span class="token punctuation">.</span>value <span class="token operator">=</span> newval<span class="token punctuation">;</span>
      mark<span class="token punctuation">.</span>innerText <span class="token operator">=</span> newval<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  txt<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'keyup'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    objMore<span class="token punctuation">.</span>val <span class="token operator">=</span> event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><blockquote><p>æ›´å¤šè¯·ç‚¹å‡»æŸ¥çœ‹<a href="https://zhuanlan.zhihu.com/p/88648401" target="_blank" rel="noopener noreferrer">åŸä½œè€…<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>;</p></blockquote> <ul><li><p>ä»€ä¹ˆæ˜¯nextTick ä»–å®ç°çš„åŸç†æ˜¯ä»€ä¹ˆ</p></li> <li><p>vm.$set()å®ç°åŸç†æ˜¯ä»€ä¹ˆ?</p></li> <li><p>vueç»„ä»¶dataä¸ºä»€ä¹ˆå¿…é¡»æ˜¯å‡½æ•°</p></li> <li><p>è°ˆè°ˆ Vue äº‹ä»¶æœºåˆ¶ æ‰‹å†™$on,$off,$emit,$once</p></li> <li><p>è¯´è¯´ Vue çš„æ¸²æŸ“è¿‡ç¨‹</p></li> <li><p>watchã€computedä»€ä¹ˆåŒºåˆ«</p></li> <li><p>ä»‹ç»ä¸€ä¸‹Vueçš„ç”Ÿå‘½å‘¨æœŸ</p></li> <li><p>v-model ä¸ .valueçš„åŒºåˆ«</p></li> <li><p>vueæ’ä»¶å¼€å‘ï¼ˆä¸»è¦è€ƒå¯Ÿvue.useä»¥åå‘ç”Ÿäº†ä»€ä¹ˆï¼‰</p></li></ul></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      â†
      <a href="/zh/" class="prev">
        å…³äºæˆ‘
      </a></span> <span class="next"><a href="/vue/two.html">
        keep-alive
      </a>
      â†’
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.336f9db8.js" defer></script><script src="/assets/js/2.4211a988.js" defer></script><script src="/assets/js/13.766efff3.js" defer></script>
  </body>
</html>
